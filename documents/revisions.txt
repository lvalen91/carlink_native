// Document each versionCode revision that is tested/compiled. To keep a history of modifications the entries should be brief, but informative.
// Line formatting, [versionCode] :: <Brief but information Description. Pushed <DDMMYY HH:MM AM/PM
//
// START EXAMPLE
//
// [34] :: Troubleshooting 'AudioAttributes.USAGE' support in AAOS for the different Audio streams. Pushed: 26NOV25 11:30PM
// [35] :: Issue: Audio Distortion. Attempting fix by increasing buffer size. Pushed: 26NOV25 12:53PM
//
// END EXAMPLE
//
// Major changes or discoveries. The appropriate .MD in Project:/Documentation/ should be updated/corrected or created with more technical information.
//

[1] :: Initial Release
[2] :: Permission Prompt not shown, fixed. Ktlint issues corrected. PUSHED:
[3] :: No Video Output, bad code. Audio Output confirms connection is active/stable.
[4] :: Video output corrected.
[5] :: Video Scaling in Non-Immersive vs Immersive Corrected
[6] :: Audio Quality issue. Popping/Clipping Heard, possible parsing of header bytes. Attempting filtering.
[7] :: Status Card fix and icon upload for CarPlay 'HostUI' shortcut.
[8] :: Recovery logic on disconnects. Static Analysis corrections.
[9] :: Video Code revert back to Carlink Flutter v1.9.0
[10] :: Audio Code Testing

[11] :: Video code rewrite and lint corrections
[12] :: More Video Code testing
[13] :: Video Frame message not being recovered properly. Corrected for stable Video. PUSHED: 08DEC25 3:57PM
[14] :: Removed Status page
[15] :: Adapter Config page Testing. PUSHED: 9DEC25 11:05AM
[16] :: Video Frame Interval Change. Replaced Timer with coroutine Job. PUSHED: 10DEC25 11:50AM
[17] :: Navigation Audio Testing
[18] :: PlatformDetector was not used correctly, Fixed. Should now detected the hardware decoder and use it.
[19] :: Static Analysis warning fixes. Moved Mic from Timer to Coroutine. Though Coroutine uses a shared pool, so too many timers can cause issues.
[20]: runBlocking ANR Risk and lateinit Crash fixed. carlinkManager nullable, the receiver needed null-safe access

[21] :: Microphone Code reverted back. Timer works while coroutine does not for mic. Excessive debug logging in 'release'.
[22] :: Auto reconnect attempt on adapter disconnect. Return to App Blank Video fixed? False success on file export in some scenarios, fixed? Some UI tweaks
[23] :: Gradle Dependency updates. CarlinkMediaBrowserService now creates a foreground process in notification to hopefully keep app active. Also provide a shortcut to return to app, if it works. 
[24] :: Song Metadata inconsistency fix maybe
[25] :: App Display Mode Options. Now includes three options.
[26] :: Adapter Config settings option additions.
[27] :: Lint checks and some UI changes.
[28] :: App resume testing for Video black screen. Also testing letting app not take audio focus if adapter audio transfer is off.
[29] :: Ktlint and Detekt fixes. Refactored File Export
[30] :: Video Code change TESTING. Seems unstable or long to recover, too aggressive and compounding recovery logic.

[31] :: FIX: Progressive video quality degradation. Root cause: PacketRingByteBuffer.readPacket() used zero-copy ByteBuffer.wrap() sharing memory with ring buffer. Race condition allowed USB writes to overwrite data before MediaCodec consumed it, corrupting H.264 reference frames. Fix: Safe copy via System.arraycopy() before returning ByteBuffer. Periodic keyframes didn't help because they were also corrupted; only reset() worked because it cleared the buffer first.
[32] :: OPTIMIZATION: Eliminated double-copy in video pipeline. Added readPacketInto(ByteBuffer) method that copies directly from ring buffer to MediaCodec input buffer, eliminating intermediate byte[] allocation. Reduces GC pressure by ~3600 allocations/minute at 60fps and ~2-3% CPU overhead.
[33] :: DualStreamAudioManager.kt WRITE_NON_BLOCKING for all streams Prevents thread starvation during multi-stream playback. minBufferLevelMs reduced. AudioConfig.kt Buffer multiplier reduced across all platforms. Pre-fill threshold reduced.
[34] :: Testing why oemIcon in CarPlay does not have label.
[35] :: Navigation Audio changes.
[36] :: XDA@RWerksman mainscreen.kt fix for GM EV or non rectangular display and edge runoff. Some code cleanup, unused imports.
[37] :: Fixed App file logging not working. Added Video logging of frames for weird degradation overtime of video stream